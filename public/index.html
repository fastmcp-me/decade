 <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>decide</title>
    <meta name="theme-color" content="#f5f5f5">
    <link rel="icon" type="image/png" href="https://i.imgur.com/QwWDN7n.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=DM+Serif+Display:ital@0;1&display=swap" rel="stylesheet">
    <!-- Clerk Authentication -->
    <script 
        async 
        crossorigin="anonymous" 
        data-clerk-publishable-key="pk_live_Y2xlcmsuZGVjaWRlLmZ5aSQ" 
        src="https://cdn.jsdelivr.net/npm/@clerk/clerk-js@latest/dist/clerk.browser.js"
        type="text/javascript"
    ></script>
    <style>
        :root{--bg:#f5f5f5;--bg-dark:#111111;--fg:#111111;--fg-light:#f5f5f5;--gray:#666666;--gray-light:#999999;--g:#16a34a;--r:#dc2626;--ease:cubic-bezier(0.16,1,0.3,1);--ease-out:cubic-bezier(0.34,1.56,0.64,1)}
        *{margin:0;padding:0;box-sizing:border-box}
        html{scroll-behavior:smooth}
        body{font-family:'Inter',-apple-system,sans-serif;background:var(--bg);color:var(--fg);overflow-x:hidden;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
        ::selection{background:rgba(17,17,17,0.15)}

        /* CANVAS BG */
        #canvas{position:fixed;inset:0;z-index:0;opacity:0.4}

        /* GRAIN */
        .grain{position:fixed;inset:0;pointer-events:none;z-index:9998;opacity:0.03;background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E")}

        /* GLOW CURSOR */
        .glow{position:fixed;width:400px;height:400px;pointer-events:none;z-index:1;background:radial-gradient(circle,rgba(17,17,17,0.03) 0%,transparent 60%);transform:translate(-50%,-50%);opacity:0;transition:opacity 0.5s}
        body:hover .glow{opacity:1}

        /* NAV */
        nav{position:fixed;top:0;left:0;right:0;z-index:1000;padding:1rem}
        .nav-wrap{max-width:1100px;margin:0 auto;display:flex;justify-content:space-between;align-items:center;padding:0.6rem 0.6rem 0.6rem 1.25rem;border-radius:100px;border:1px solid transparent;transition:all 0.5s var(--ease)}
        nav.scrolled .nav-wrap{background:rgba(245,245,245,0.8);border-color:rgba(17,17,17,0.06);backdrop-filter:blur(40px) saturate(180%);-webkit-backdrop-filter:blur(40px) saturate(180%);box-shadow:0 4px 30px rgba(0,0,0,0.05)}
        .logo{display:flex;align-items:center;gap:0.6rem;text-decoration:none;color:var(--fg)}
        .logo-mark{width:28px;height:28px;display:flex;align-items:center;justify-content:center;transition:all 0.4s var(--ease-out)}
        .logo-mark img{width:28px;height:28px;object-fit:contain}
        .logo:hover .logo-mark{transform:translateX(3px)}
        .logo span{font-weight:700;font-size:1rem;letter-spacing:-0.02em}
        .nav-links{display:flex;gap:0.25rem;align-items:center}
        .nav-links a{text-decoration:none;color:var(--gray);font-size:0.8rem;font-weight:500;padding:0.5rem 1rem;border-radius:100px;transition:all 0.3s}
        .nav-links a:hover{color:var(--fg);background:rgba(17,17,17,0.04)}
        .nav-links a.signed-in{display:flex;align-items:center;gap:0.5rem}
        .nav-links a.signed-in:hover{background:rgba(17,17,17,0.06)}
        .nav-links .sign-out-btn{color:var(--r);font-weight:500}
        .nav-links .sign-out-btn:hover{background:rgba(220,38,38,0.08);color:var(--r)}
        .nav-cta{background:var(--fg)!important;color:var(--bg)!important;font-weight:600!important}
        .nav-cta:hover{transform:scale(1.05);box-shadow:0 10px 40px rgba(17,17,17,0.2)}

        /* HERO */
        .hero{min-height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:8rem 1.5rem 2rem;text-align:center;position:relative;z-index:2;background:var(--bg)}
        .hero-inner{max-width:900px}

        .badge{display:inline-flex;align-items:center;gap:0.6rem;background:rgba(17,17,17,0.03);border:1px solid rgba(17,17,17,0.08);padding:0.4rem 0.9rem 0.4rem 0.5rem;border-radius:100px;font-size:0.7rem;font-weight:600;color:var(--gray);margin-bottom:2.5rem;opacity:0;animation:fadeUp 1s var(--ease) 0.2s forwards}
        .badge-dot{width:8px;height:8px;background:var(--g);border-radius:50%;animation:pulse 2s ease-in-out infinite;box-shadow:0 0 12px rgba(22,163,74,0.4)}
        @keyframes pulse{0%,100%{transform:scale(1);opacity:1}50%{transform:scale(1.4);opacity:0.6}}
        @keyframes fadeUp{to{opacity:1;transform:translateY(0)}}

        .hero h1{font-size:clamp(3rem,15vw,9rem);font-weight:800;letter-spacing:-0.06em;line-height:0.85;margin-bottom:1.5rem;color:var(--fg)}
        .hero h1 .word{display:inline-block;overflow:hidden;vertical-align:top}
        .hero h1 .word span{display:inline-block;transform:translateY(110%);animation:wordUp 1.2s var(--ease) forwards}
        .hero h1 .word:nth-child(1) span{animation-delay:0.3s}
        .hero h1 .word:nth-child(2) span{animation-delay:0.5s}
        @keyframes wordUp{to{transform:translateY(0)}}
        .hero h1 .serif{font-family:'DM Serif Display',serif;font-weight:700;font-style:italic}

        .sub{font-size:clamp(1rem,2.5vw,1.25rem);color:var(--gray);margin-bottom:2.5rem;opacity:0;transform:translateY(20px);animation:fadeUp 1s var(--ease) 0.7s forwards}

        /* INPUT */
        .input-wrap{width:100%;max-width:580px;margin:0 auto;opacity:0;transform:translateY(20px);animation:fadeUp 1s var(--ease) 0.85s forwards;position:relative}
        .input-row{display:flex;align-items:center;justify-content:center;height:64px;position:relative}
        .input-box{flex:1;position:relative;border-radius:22px;padding:2px;background:var(--fg);transition:all 0.4s}
        .input-box:focus-within{box-shadow:0 20px 60px rgba(17,17,17,0.15)}
        .input-inner{background:var(--bg);border-radius:20px;display:flex;align-items:center;padding:0.4rem}
        .input-field{flex:1;padding:1rem 1.25rem;font-size:1rem;font-family:inherit;border:none;outline:none;background:transparent;color:var(--fg)}
        .input-field::placeholder{color:#999}
        .input-field.retry-placeholder::placeholder{color:#bbb}
        .input-btn{background:var(--fg);color:var(--bg);border:none;padding:0.85rem 1.4rem;border-radius:16px;font-family:inherit;font-size:0.9rem;font-weight:600;cursor:pointer;transition:all 0.3s var(--ease-out);display:flex;align-items:center;gap:0.4rem}
        .input-btn svg{width:16px;height:16px;stroke:currentColor;stroke-width:2.5;transition:transform 0.3s}
        .input-btn:hover{transform:scale(1.05);box-shadow:0 10px 40px rgba(17,17,17,0.25)}
        .input-btn:hover svg{transform:translateX(3px)}
        .input-btn:active{transform:scale(0.97)}
        .input-btn:disabled{opacity:0.6;cursor:not-allowed;transform:none}
        
        /* Verdict Mode - X Button takes over input box */
        .x-verdict-btn{
            display:none;
            align-items:center;
            justify-content:center;
            gap:0.75rem;
            width:100%;
            padding:1.25rem 2rem;
            background:var(--fg);
            color:var(--bg);
            border-radius:20px;
            font-family:inherit;
            font-size:1.1rem;
            font-weight:600;
            text-decoration:none;
            cursor:pointer;
            transition:all 0.3s var(--ease-out);
        }
        .x-verdict-btn:hover{transform:scale(1.02);box-shadow:0 20px 60px rgba(17,17,17,0.25)}
        .x-verdict-btn:active{transform:scale(0.98)}
        .x-verdict-btn .x-icon{width:22px;height:22px;fill:currentColor;flex-shrink:0}
        
        /* Refresh button - outside on the right */
        .refresh-btn{
            position:absolute;
            right:-75px;
            top:50%;
            transform:translateY(-50%);
            display:flex;
            align-items:center;
            justify-content:center;
            width:60px;
            height:60px;
            background:var(--bg);
            border:2px solid rgba(17,17,17,0.15);
            border-radius:16px;
            font-size:1.3rem;
            color:var(--gray);
            cursor:pointer;
            transition:all 0.3s var(--ease-out);
            flex-shrink:0;
            visibility:hidden;
            opacity:0;
        }
        .refresh-btn:hover{border-color:var(--fg);color:var(--fg);transform:translateY(-50%) scale(1.05)}
        .refresh-btn:active{transform:translateY(-50%) scale(0.95)}
        
        .input-box.verdict-mode .input-inner{display:none}
        .input-box.verdict-mode .x-verdict-btn{display:flex}
        .input-box.verdict-mode + .refresh-btn{visibility:visible;opacity:1}

        .char-count{font-size:0.7rem;color:var(--r);text-align:right;margin-top:0.5rem;opacity:0;transition:opacity 0.3s;font-weight:600}
        .char-count.show{opacity:1}

        .chips{display:flex;justify-content:center;gap:0.5rem;margin-top:1.25rem;flex-wrap:wrap;opacity:0;animation:fadeUp 1s var(--ease) 1s forwards}
        .chip{background:transparent;border:1px solid rgba(17,17,17,0.1);padding:0.4rem 0.85rem;border-radius:100px;font-size:0.7rem;color:var(--gray);cursor:pointer;transition:all 0.3s}
        .chip:hover{border-color:var(--fg);color:var(--fg);background:rgba(17,17,17,0.03);transform:translateY(-2px)}

        .result{height:clamp(100px,25vw,180px);display:flex;flex-direction:column;justify-content:center;align-items:center;margin-top:0.25rem;gap:1rem}
        
        /* ENHANCED ANSWER ANIMATIONS */
        .ans{font-size:clamp(5rem,22vw,11rem);font-weight:900;letter-spacing:-0.05em;text-transform:uppercase;opacity:0;perspective:1000px}
        .ans-letter{display:inline-block;opacity:0;transform:translateY(60px) rotateX(-40deg) scale(0.8);filter:blur(8px);transition:all 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275)}
        .ans.show .ans-letter{opacity:1;transform:translateY(0) rotateX(0) scale(1);filter:blur(0)}
        .ans.show .ans-letter:nth-child(1){transition-delay:0ms}
        .ans.show .ans-letter:nth-child(2){transition-delay:50ms}
        .ans.show .ans-letter:nth-child(3){transition-delay:100ms}
        .ans.show .ans-letter:nth-child(4){transition-delay:150ms}
        .ans.show .ans-letter:nth-child(5){transition-delay:200ms}
        .ans.show .ans-letter:nth-child(6){transition-delay:250ms}
        .ans.show .ans-letter:nth-child(7){transition-delay:300ms}
        .ans.show .ans-letter:nth-child(8){transition-delay:350ms}
        .ans.show .ans-letter:nth-child(9){transition-delay:400ms}
        .ans.yes{color:var(--g)}
        .ans.yes .ans-letter{text-shadow:0 0 80px rgba(22,163,74,0.4),0 0 120px rgba(22,163,74,0.2)}
        .ans.no{color:var(--r)}
        .ans.no .ans-letter{text-shadow:0 0 80px rgba(220,38,38,0.4),0 0 120px rgba(220,38,38,0.2)}
        .ans.unclear{font-size:1.1rem;font-weight:500;color:var(--gray);text-transform:none}
        .ans.unclear .ans-letter{text-shadow:none;transform:translateY(20px);filter:blur(4px)}
        .ans.unclear.show .ans-letter{transition-delay:0ms!important}
        .ans.loading{font-size:1rem;font-weight:500;color:var(--gray);text-transform:none}
        .ans.loading .ans-letter{text-shadow:none}

        /* X ICON */
        .x-icon{
            width:16px;
            height:16px;
            fill:currentColor;
        }

        /* LOGOS / MARQUEE */
        .logos{padding:2.5rem 1.5rem;border-top:1px solid rgba(17,17,17,0.06);position:relative;z-index:2;overflow:hidden;background:var(--bg)}
        .logos-track{display:flex;animation:scroll 25s linear infinite}
        .logos-track span{flex-shrink:0;padding:0 2.5rem;font-size:0.75rem;font-weight:600;color:rgba(17,17,17,0.5);text-transform:uppercase;letter-spacing:0.15em;display:flex;align-items:center;gap:2.5rem}
        .logos-track span::after{content:'◆';font-size:0.4rem;opacity:0.6}
        @keyframes scroll{0%{transform:translateX(0)}100%{transform:translateX(-50%)}}

        /* SECTIONS */
        section{position:relative;z-index:2}
        .sec-light{background:var(--bg)}
        .sec-dark{background:var(--bg-dark);color:var(--fg-light)}
        .sec-dark .sec-head h2{color:var(--fg-light)}
        .sec-dark .sec-head p{color:var(--gray-light)}
        .sec-dark .sec-tag{color:var(--fg-light)}
        .sec-dark .sec-tag::before,.sec-dark .sec-tag::after{border-color:var(--fg-light)}

        .sec-tag{display:inline-flex;align-items:center;gap:0.5rem;font-size:0.6rem;font-weight:700;color:var(--fg);text-transform:uppercase;letter-spacing:0.2em;margin-bottom:1.25rem}
        .sec-tag::before,.sec-tag::after{content:'';width:8px;height:8px;border:1.5px solid var(--fg);border-radius:50%}
        .sec-head{text-align:center;max-width:550px;margin:0 auto 5rem}
        .sec-head h2{font-size:clamp(2rem,5vw,3rem);font-weight:700;letter-spacing:-0.04em;margin-bottom:0.6rem;color:var(--fg)}
        .sec-head h2 .serif{font-family:'DM Serif Display',serif;font-style:italic}
        .sec-head p{color:var(--gray);font-size:0.95rem}

        /* FEATURES - DARK */
        .features{padding:8rem 1.5rem}
        .feat-grid{display:grid;grid-template-columns:repeat(6,1fr);gap:1rem;max-width:1000px;margin:0 auto}
        .feat{background:rgba(245,245,245,0.03);border:1px solid rgba(245,245,245,0.08);border-radius:28px;padding:2rem;transition:all 0.5s var(--ease);position:relative;overflow:hidden}
        .feat::before{content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:conic-gradient(from 0deg,transparent,rgba(245,245,245,0.03),transparent 30%);opacity:0;transition:opacity 0.5s;animation:rotate 6s linear infinite paused}
        @keyframes rotate{to{transform:rotate(360deg)}}
        .feat:hover::before{opacity:1;animation-play-state:running}
        .feat:hover{border-color:rgba(245,245,245,0.15);transform:translateY(-8px) scale(1.02);box-shadow:0 40px 80px rgba(0,0,0,0.3)}
        .feat.c4{grid-column:span 4}
        .feat.c3{grid-column:span 3}
        .feat.c2{grid-column:span 2}
        .feat-icon{width:52px;height:52px;background:var(--fg-light);border-radius:16px;display:flex;align-items:center;justify-content:center;margin-bottom:1.5rem;position:relative;z-index:1}
        .feat-icon svg{width:24px;height:24px;stroke:var(--bg-dark)}
        .feat h3{font-size:1.1rem;font-weight:600;margin-bottom:0.4rem;position:relative;z-index:1;color:var(--fg-light)}
        .feat p{color:var(--gray-light);font-size:0.85rem;line-height:1.6;position:relative;z-index:1}

        /* HOW - LIGHT */
        .how{padding:8rem 1.5rem}
        .how-grid{display:flex;justify-content:center;gap:1.5rem;max-width:850px;margin:0 auto}
        .how-card{flex:1;background:var(--bg);border:1px solid rgba(17,17,17,0.08);border-radius:32px;padding:2.5rem 2rem;text-align:center;transition:all 0.4s var(--ease);position:relative}
        .how-card:hover{border-color:rgba(17,17,17,0.15);transform:translateY(-4px);box-shadow:0 20px 60px rgba(0,0,0,0.06)}
        .how-card::after{content:'→';position:absolute;right:-1.25rem;top:50%;transform:translateY(-50%);color:rgba(17,17,17,0.25);font-size:1.25rem}
        .how-card:last-child::after{display:none}
        .how-num{font-size:5rem;font-weight:900;line-height:1;color:rgba(17,17,17,0.15);margin-bottom:1rem}
        .how-card h3{font-size:1.1rem;font-weight:600;margin-bottom:0.3rem;color:var(--fg)}
        .how-card p{color:var(--gray);font-size:0.85rem}

        /* PRICING - DARK */
        .pricing{padding:8rem 1.5rem}
        .price-grid{display:flex;justify-content:center;gap:1.25rem;max-width:750px;margin:0 auto}
        .price{flex:1;max-width:360px;background:rgba(245,245,245,0.03);border:1px solid rgba(245,245,245,0.08);border-radius:36px;padding:2.75rem 2.25rem;position:relative;transition:all 0.4s var(--ease)}
        .price:hover{border-color:rgba(245,245,245,0.12);transform:translateY(-4px);box-shadow:0 30px 60px rgba(0,0,0,0.3)}
        .price.pop{background:var(--fg-light);color:var(--bg-dark)}
        .price.pop:hover{box-shadow:0 40px 80px rgba(0,0,0,0.4)}
        .price.pop .price-desc{color:var(--gray)}
        .price.pop .price-list li{color:var(--gray)}
        .price.pop .price-cost span{color:var(--gray);letter-spacing:0.02em}
        .price-tag{position:absolute;top:-12px;right:20px;background:var(--fg-light);color:var(--bg-dark);padding:0.4rem 1rem;border-radius:100px;font-size:0.6rem;font-weight:700;text-transform:uppercase;letter-spacing:0.08em}
        .price.pop .price-tag{background:var(--bg-dark);color:var(--fg-light)}
        .price-tag.soon{background:rgba(245,245,245,0.15);color:rgba(245,245,245,0.7)}
        .price.pop .price-tag.soon{background:rgba(17,17,17,0.85);color:rgba(255,255,255,0.9)}
        .price-name{font-size:1.25rem;font-weight:600;margin-bottom:0.15rem}
        .price-desc{color:var(--gray-light);font-size:0.75rem;margin-bottom:1.5rem}
        .price-cost{font-size:4rem;font-weight:900;letter-spacing:-0.05em;line-height:1;margin-bottom:2rem}
        .price-cost span{font-size:1rem;font-weight:400;color:var(--gray-light);letter-spacing:0.02em;margin-left:0.25rem}
        .price-list{list-style:none;margin-bottom:2rem}
        .price-list li{padding:0.6rem 0;font-size:0.85rem;color:var(--gray-light);display:flex;align-items:center;gap:0.6rem}
        .price-list li::before{content:'';width:18px;height:18px;background:url("data:image/svg+xml,%3Csvg viewBox='0 0 18 18' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='9' cy='9' r='8' stroke='%2316a34a' stroke-width='1.5'/%3E%3Cpath d='M5.5 9l2.5 2.5 4.5-5' stroke='%2316a34a' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E") center/contain no-repeat}
        .price-btn{display:block;width:100%;padding:1.1rem;border:none;border-radius:18px;font-family:inherit;font-size:0.95rem;font-weight:600;text-align:center;text-decoration:none;cursor:pointer;transition:all 0.3s var(--ease-out)}
        .price .price-btn{background:var(--fg-light);color:var(--bg-dark)}
        .price.pop .price-btn{background:var(--bg-dark);color:var(--fg-light)}
        .price .price-btn:hover{transform:scale(1.03);box-shadow:0 15px 40px rgba(0,0,0,0.3)}
        .price.pop .price-btn:hover{box-shadow:0 15px 40px rgba(17,17,17,0.25)}
        .price-btn.off{background:rgba(245,245,245,0.1);color:var(--gray-light);cursor:not-allowed}
        .price.pop .price-btn.off{background:rgba(17,17,17,0.08);color:var(--gray)}
        .price-btn.off:hover{transform:none;box-shadow:none}

        /* CTA - LIGHT */
        .cta{padding:14rem 1.5rem;text-align:center;position:relative;overflow:hidden}
        .cta::before{content:'';position:absolute;top:50%;left:50%;width:1000px;height:1000px;background:radial-gradient(circle,rgba(17,17,17,0.03) 0%,transparent 50%);transform:translate(-50%,-50%);animation:ctaGlow 5s ease-in-out infinite}
        @keyframes ctaGlow{0%,100%{transform:translate(-50%,-50%) scale(1);opacity:0.5}50%{transform:translate(-50%,-50%) scale(1.15);opacity:1}}
        .cta-inner{max-width:650px;margin:0 auto;position:relative;z-index:1}
        .cta h2{font-size:clamp(3rem,12vw,7rem);font-weight:900;letter-spacing:-0.05em;line-height:0.9;margin-bottom:1.25rem;color:var(--fg)}
        .cta h2 .serif{font-family:'DM Serif Display',serif;font-style:italic}
        .cta p{color:var(--gray);font-size:1.1rem;margin-bottom:2.5rem}
        .cta-btn{display:inline-flex;align-items:center;gap:0.6rem;background:var(--fg);color:var(--bg);padding:1.1rem 2.5rem;border-radius:100px;font-size:1rem;font-weight:600;text-decoration:none;transition:all 0.4s var(--ease-out)}
        .cta-btn:hover{transform:scale(1.08);box-shadow:0 20px 60px rgba(17,17,17,0.25)}
        .cta-btn svg{width:18px;height:18px;transition:transform 0.3s}
        .cta-btn:hover svg{transform:translateX(5px)}

        /* FOOTER */
        footer{padding:2.5rem 1.5rem;border-top:1px solid rgba(17,17,17,0.06);position:relative;z-index:2;background:var(--bg)}
        .foot-inner{max-width:1100px;margin:0 auto;display:flex;justify-content:space-between;align-items:center}
        .foot-logo{display:flex;align-items:center;gap:0.5rem;color:var(--gray);font-size:0.85rem}
        .foot-logo .logo-mark{width:20px;height:20px;opacity:0.4}
        .foot-logo .logo-mark img{width:20px;height:20px;object-fit:contain}
        .foot-links{display:flex;gap:1.5rem}
        .foot-links a{color:var(--gray);text-decoration:none;font-size:0.75rem;transition:color 0.3s}
        .foot-links a:hover{color:var(--fg)}
        .foot-x a{width:36px;height:36px;background:rgba(17,17,17,0.03);border:1px solid rgba(17,17,17,0.06);border-radius:10px;display:flex;align-items:center;justify-content:center;transition:all 0.3s}
        .foot-x a:hover{background:var(--fg);border-color:var(--fg)}
        .foot-x svg{width:14px;height:14px;fill:var(--gray);transition:fill 0.3s}
        .foot-x a:hover svg{fill:var(--bg)}

        /* MODAL */
        .m-bg{position:fixed;inset:0;background:rgba(245,245,245,0.95);backdrop-filter:blur(30px);z-index:2000;opacity:0;visibility:hidden;transition:all 0.4s}
        .m-bg.on{opacity:1;visibility:visible}
        .modal{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%) scale(0.9);background:var(--bg);border:1px solid rgba(17,17,17,0.1);border-radius:28px;max-width:420px;width:92%;z-index:2001;opacity:0;visibility:hidden;transition:all 0.5s var(--ease-out);box-shadow:0 40px 80px rgba(0,0,0,0.1)}
        .modal.on{opacity:1;visibility:visible;transform:translate(-50%,-50%) scale(1)}
        .m-head{display:flex;justify-content:space-between;align-items:center;padding:1.25rem 1.5rem;border-bottom:1px solid rgba(17,17,17,0.06)}
        .m-head h3{font-size:0.95rem;font-weight:600;color:var(--fg)}
        .m-x{background:rgba(17,17,17,0.05);border:none;width:32px;height:32px;border-radius:10px;color:var(--gray);font-size:1.2rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all 0.3s}
        .m-x:hover{background:rgba(17,17,17,0.1);color:var(--fg)}
        .m-body{padding:1.5rem}
        .m-body p{margin-bottom:0.75rem;font-size:0.8rem;line-height:1.7;color:var(--gray)}
        .m-body strong{color:var(--fg)}
        .m-body a{color:var(--fg);text-decoration:underline}

        /* MOBILE SIDEBAR */
        .mob{display:none;background:none;border:none;cursor:pointer;padding:0.5rem;z-index:1002}
        .mob span{display:block;width:18px;height:1.5px;background:var(--fg);margin:4px 0;transition:all 0.3s var(--ease)}
        
        /* Mobile menu */
        .mobile-menu{
            position:fixed;
            top:0;
            right:-100%;
            width:280px;
            max-width:80vw;
            height:100vh;
            background:var(--bg);
            z-index:1001;
            padding:5rem 2rem 2rem;
            transition:right 0.4s var(--ease);
            box-shadow:-10px 0 40px rgba(0,0,0,0.1);
            display:flex;
            flex-direction:column;
            gap:0.5rem;
        }
        .mobile-menu.open{right:0}
        .mobile-menu a{
            text-decoration:none;
            color:var(--fg);
            font-size:1.1rem;
            font-weight:500;
            padding:1rem 0;
            border-bottom:1px solid rgba(17,17,17,0.06);
            transition:all 0.3s;
        }
        .mobile-menu a:hover{color:var(--gray)}
        .mobile-menu a.nav-cta{
            background:var(--fg);
            color:var(--bg);
            padding:1rem 1.5rem;
            border-radius:100px;
            text-align:center;
            margin-top:1rem;
            border:none;
        }
        .mobile-overlay{
            position:fixed;
            inset:0;
            background:rgba(0,0,0,0.3);
            z-index:1000;
            opacity:0;
            visibility:hidden;
            transition:all 0.4s;
        }
        .mobile-overlay.open{opacity:1;visibility:visible}
        
        /* Hamburger animation */
        .mob.open span:nth-child(1){transform:rotate(45deg) translate(4px, 4px)}
        .mob.open span:nth-child(2){opacity:0}
        .mob.open span:nth-child(3){transform:rotate(-45deg) translate(4px, -4px)}

        @media(max-width:900px){
            .feat-grid{grid-template-columns:1fr}
            .feat.c4,.feat.c3,.feat.c2{grid-column:span 1}
            .how-grid{flex-direction:column;max-width:380px}
            .how-card::after{display:none}
            .price-grid{flex-direction:column;align-items:center}
        }
        @media(max-width:768px){
            .nav-links{display:none}
            .mob{display:block}
            .hero{padding:6rem 1.25rem 2rem}
            .hero h1{font-size:clamp(2.5rem,16vw,5rem)}
            .input-field{font-size:0.9rem;padding:0.85rem 1rem}
            .input-btn{padding:0.75rem 1.1rem;font-size:0.85rem}
            .ans{font-size:clamp(4rem,20vw,7rem)}
            .foot-inner{flex-direction:column;gap:1.25rem}
            .cta{padding:8rem 1.25rem}
            /* Fix result height on mobile - use fixed height instead of clamp with vw */
            .result{height:120px}
        }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>
    <div class="grain"></div>
    <div class="glow" id="glow"></div>

    <nav id="nav">
        <div class="nav-wrap">
            <a href="#" class="logo">
                <div class="logo-mark">
                    <img src="https://i.imgur.com/IsBmzxq.png" alt="decide logo">
                </div>
                <span>decide</span>
            </a>
            <div class="nav-links">
                <a href="#features">Why Decide</a>
                <a href="#pricing">Get Started</a>
                <a href="#" class="nav-signin nav-cta" onclick="event.preventDefault(); openSignIn();">Sign In</a>
            </div>
            <button class="mob" id="mobBtn"><span></span><span></span><span></span></button>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div class="mobile-overlay" id="mobileOverlay"></div>
    <div class="mobile-menu" id="mobileMenu">
        <a href="#features" class="mobile-link">Why Decide</a>
        <a href="#pricing" class="mobile-link">Get Started</a>
        <a href="#" class="nav-cta mobile-link" onclick="event.preventDefault(); openSignIn();">Sign In</a>
    </div>

    <section class="hero">
        <div class="hero-inner">
            <div class="badge"><span class="badge-dot"></span>Available now</div>
            <h1>
                <span class="word"><span>End</span></span>
                <span class="word"><span class="serif">hesitation.</span></span>
            </h1>
            <p class="sub">Get a straight answer to a straight question.</p>
            <div class="input-wrap">
                <div class="input-row">
                    <div class="input-box" id="inputBox">
                        <div class="input-inner" id="inputInner">
                            <input type="text" class="input-field" id="q" placeholder="should i get shit done?" autocomplete="off" maxlength="230">
                            <button class="input-btn" id="btn">decide</button>
                        </div>
                        <a class="x-verdict-btn" id="xBtn" href="#" target="_blank" rel="noopener noreferrer">
                            <svg class="x-icon" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
                            See verdict on X
                        </a>
                    </div>
                    <button class="refresh-btn" id="refreshBtn" title="Start over">↻</button>
                </div>
                <div class="char-count" id="charCount"></div>
                <div class="chips">
                    <button class="chip" onclick="ask('prague worth a detour?')">prague worth detour?</button>
                    <button class="chip" onclick="ask('skip sleep again?')">skip sleep again?</button>
                    <button class="chip" onclick="ask('text them back?')">text them back?</button>
                </div>
                <div class="result">
                    <div class="ans" id="ans"></div>
                </div>
            </div>
        </div>
    </section>

    <div class="logos">
        <div class="logos-track">
            <span>No hedging</span><span>No disclaimers</span><span>No overthinking</span><span>Just decide</span><span>No hedging</span><span>No disclaimers</span><span>No overthinking</span><span>Just decide</span>
        </div>
    </div>

    <section class="features sec-dark" id="features">
        <div class="sec-head">
            <h2>Why <span class="serif">decide?</span></h2>
            <p>A magic 8 ball that thinks.</p>
        </div>
        <div class="feat-grid">
            <div class="feat c4">
                <div class="feat-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg></div>
                <h3>Instant Answers</h3>
                <p>No overthinking. No context contamination. Just a clear yes or no to move you forward.</p>
            </div>
            <div class="feat c2">
                <div class="feat-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg></div>
                <h3>Save Energy</h3>
                <p>Stop wasting brainpower.</p>
            </div>
            <div class="feat c2">
                <div class="feat-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 4l-6 6M17 4l6 6M1 20l6-6M7 20l-6-6"/></svg></div>
                <h3>Fresh Start</h3>
                <p>No chat history bias.</p>
            </div>
            <div class="feat c2">
                <div class="feat-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M9 12l2 2 4-4"/></svg></div>
                <h3>End Paralysis</h3>
                <p>Break the analysis loop.</p>
            </div>
            <div class="feat c2">
                <div class="feat-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"/></svg></div>
                <h3>No Disclaimers</h3>
                <p>We commit. You act.</p>
            </div>
        </div>
    </section>

    <section class="how sec-light" id="how">
        <div class="sec-head"><h2>How it <span class="serif">works</span></h2></div>
        <div class="how-grid">
            <div class="how-card"><div class="how-num">1</div><h3>Ask</h3><p>Type your question</p></div>
            <div class="how-card"><div class="how-num">2</div><h3>Decide</h3><p>AI commits instantly</p></div>
            <div class="how-card"><div class="how-num">3</div><h3>Act</h3><p>Move forward</p></div>
        </div>
    </section>

    <section class="pricing sec-dark" id="pricing">
        <div class="sec-head">
            <h2>Simple <span class="serif">pricing</span></h2>
        </div>
        <div class="price-grid">
            <div class="price" id="lite">
                <div class="price-tag soon">Coming Soon</div>
                <div class="price-name">Lite</div>
                <div class="price-desc">One-time purchase</div>
                <div class="price-cost">$29 <span>forever</span></div>
                <ul class="price-list">
                    <li>Unlimited decisions</li>
                    <li>Instant responses</li>
                    <li>No history</li>
                    <li>3 month Pro voucher</li>
                </ul>
                <a href="#" class="price-btn off" onclick="return false">Stay Tuned</a>
            </div>
            <div class="price pop">
                <div class="price-tag soon">Coming Soon</div>
                <div class="price-name">Pro</div>
                <div class="price-desc">Monthly</div>
                <div class="price-cost">$10 <span>/ month</span></div>
                <ul class="price-list">
                    <li>Everything in Lite</li>
                    <li>Decide Journal</li>
                    <li>Decide Verdicts</li>
                    <li>Decide Votes</li>
                </ul>
                <a href="#" class="price-btn off" onclick="return false">Stay Tuned</a>
            </div>
        </div>
    </section>

    <section class="cta sec-light">
        <div class="cta-inner">
            <h2>Just <span class="serif">decide.</span></h2>
            <p>The best answer is never maybe.</p>
            <a href="#lite" class="cta-btn">Get Started</a>
        </div>
    </section>

    <footer>
        <div class="foot-inner">
            <div class="foot-logo">
                <div class="logo-mark">
                    <img src="https://i.imgur.com/IsBmzxq.png" alt="decide logo">
                </div>
                <span>decide</span>
            </div>
            <div class="foot-links">
                <a href="#" onclick="openM('privacy');return false">Privacy</a>
                <a href="#" onclick="openM('terms');return false">Terms</a>
                <a href="#" onclick="openM('contact');return false">Contact</a>
                <a href="#" onclick="openM('api');return false">API</a>
            </div>
            <div class="foot-x"><a href="https://x.com/decidefyi" target="_blank"><svg viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a></div>
        </div>
    </footer>

    <div class="m-bg" id="mbg" onclick="closeM()"></div>
    <div class="modal" id="privacy"><div class="m-head"><h3>Privacy Policy</h3><button class="m-x" onclick="closeM()">×</button></div><div class="m-body"><p><strong>Last updated:</strong> January 2026</p><p>At decide, we believe in simplicity, including how we handle your data.</p><p><strong>What we collect:</strong> When you use decide, we process your questions to provide answers. We don't store your questions or answers unless you choose to save them.</p><p><strong>What we don't do:</strong> We don't sell your data. We don't track you across the web. We don't use your questions to train AI models.</p><p><strong>Payments:</strong> Processed securely through Stripe. We never see or store your full card details.</p><p><strong>Questions?</strong> Email us at <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="3054555359545556495970575d51595c1e535f5d">[email&#160;protected]</a>.</p></div></div>
    <div class="modal" id="terms"><div class="m-head"><h3>Terms of Service</h3><button class="m-x" onclick="closeM()">×</button></div><div class="m-body"><p><strong>Last updated:</strong> January 2026</p><p><strong>The service:</strong> decide provides AI-generated yes/no answers to help you make decisions. These answers are suggestions, not professional advice.</p><p><strong>What decide won't answer:</strong> Investment/financial decisions, medical questions, legal matters, or anything where professional advice is required. For these, please consult qualified professionals.</p><p><strong>Your responsibility:</strong> You control the outcomes. decide helps you move past hesitation, but the actions you take are yours.</p><p><strong>Payments:</strong> Lite ($29) is a one-time payment with lifetime access. Pro ($10/month) is a recurring subscription you can cancel anytime.</p></div></div>
    <div class="modal" id="api"><div class="m-head"><h3>Decide API</h3><button class="m-x" onclick="closeM()">×</button></div><div class="m-body"><p><strong>For businesses and developers</strong></p><p>Connect your AI agents to the Decide API when they need a final decision call. Perfect for:</p><p>• AI assistants that get stuck in analysis loops<br>• Automated workflows requiring binary decisions<br>• Applications where users need quick yes/no guidance</p><p><strong>Interested?</strong> Email us at <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="b9dddcdad0dddcdfc0d0f9ded4d8d0d597dad6d4">[email&#160;protected]</a> to discuss your use case.</p></div></div>
    <div class="modal" id="contact"><div class="m-head"><h3>Contact</h3><button class="m-x" onclick="closeM()">×</button></div><div class="m-body"><p>Reach out on X: <a href="https://x.com/decidefyi" target="_blank">@decidefyi</a> or email us at <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="7115141218151417081831161c10181d5f121e1c">[email&#160;protected]</a>.</p></div></div>

    <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
        // Canvas gradient mesh - light theme
        const canvas=document.getElementById('canvas'),ctx=canvas.getContext('2d');
        let w,h,particles=[];
        function resize(){w=canvas.width=innerWidth;h=canvas.height=innerHeight}
        resize();
        window.addEventListener('resize',resize);

        class Particle{
            constructor(){this.reset()}
            reset(){
                this.x=Math.random()*w;
                this.y=Math.random()*h;
                this.vx=(Math.random()-0.5)*0.3;
                this.vy=(Math.random()-0.5)*0.3;
                this.r=Math.random()*300+200;
            }
            update(){
                this.x+=this.vx;this.y+=this.vy;
                if(this.x<-this.r||this.x>w+this.r||this.y<-this.r||this.y>h+this.r)this.reset();
            }
            draw(){
                const g=ctx.createRadialGradient(this.x,this.y,0,this.x,this.y,this.r);
                g.addColorStop(0,'rgba(17,17,17,0.015)');
                g.addColorStop(1,'transparent');
                ctx.fillStyle=g;
                ctx.beginPath();
                ctx.arc(this.x,this.y,this.r,0,Math.PI*2);
                ctx.fill();
            }
        }
        for(let i=0;i<4;i++)particles.push(new Particle());
        function animate(){
            ctx.clearRect(0,0,w,h);
            particles.forEach(p=>{p.update();p.draw()});
            requestAnimationFrame(animate);
        }
        animate();

        // Cursor glow
        const glow=document.getElementById('glow');
        document.addEventListener('mousemove',e=>{glow.style.left=e.clientX+'px';glow.style.top=e.clientY+'px'});

        // Nav scroll
        window.addEventListener('scroll',()=>document.getElementById('nav').classList.toggle('scrolled',scrollY>60));

        // Mobile menu
        const mobBtn = document.getElementById('mobBtn');
        const mobileMenu = document.getElementById('mobileMenu');
        const mobileOverlay = document.getElementById('mobileOverlay');
        
        function toggleMobileMenu() {
            mobBtn.classList.toggle('open');
            mobileMenu.classList.toggle('open');
            mobileOverlay.classList.toggle('open');
            document.body.style.overflow = mobileMenu.classList.contains('open') ? 'hidden' : '';
        }
        
        function closeMobileMenu() {
            mobBtn.classList.remove('open');
            mobileMenu.classList.remove('open');
            mobileOverlay.classList.remove('open');
            document.body.style.overflow = '';
        }
        
        mobBtn.addEventListener('click', toggleMobileMenu);
        mobileOverlay.addEventListener('click', closeMobileMenu);
        
        // Close mobile menu when clicking links
        document.querySelectorAll('.mobile-menu .mobile-link').forEach(link => {
            link.addEventListener('click', (e) => {
                // Don't close immediately for sign in (it opens a modal)
                if (!link.classList.contains('nav-cta')) {
                    closeMobileMenu();
                }
            });
        });

        // Modal
        function openM(id){document.getElementById('mbg').classList.add('on');document.getElementById(id).classList.add('on');document.body.style.overflow='hidden'}
        function closeM(){document.getElementById('mbg').classList.remove('on');document.querySelectorAll('.modal').forEach(m=>m.classList.remove('on'));document.body.style.overflow=''}
        document.addEventListener('keydown',e=>{if(e.key==='Escape')closeM()});

        // Gemini AI Decision
        // The API key is stored in the environment on the server. The client
        // calls the `/api/decide` route instead of sending the request directly
        // to Gemini. This keeps the key secret.
        const API_ENDPOINT = '/api/decide';
        const MODEL = 'gemini-2.0-flash-lite';
        const q=document.getElementById('q'),btn=document.getElementById('btn'),ans=document.getElementById('ans'),xBtn=document.getElementById('xBtn'),refreshBtn=document.getElementById('refreshBtn'),charCount=document.getElementById('charCount'),inputBox=document.getElementById('inputBox');
        
        let lastQuestion = '';
        let lastAnswer = '';
        const DEFAULT_PLACEHOLDER = 'should i get shit done?';
        const RETRY_PLACEHOLDER = 'Try another question.';
        function showRetryPlaceholder() {
            q.value = '';
            q.placeholder = RETRY_PLACEHOLDER;
            q.classList.add('retry-placeholder');
            q.focus();
        }
        
        function resetPlaceholder() {
            q.placeholder = DEFAULT_PLACEHOLDER;
            q.classList.remove('retry-placeholder');
        }

        // Character countdown - only show when 20 chars remaining
        q.addEventListener('input', () => {
            const len = q.value.length;
            const remaining = 230 - len;
            
            if (remaining <= 20) {
                charCount.textContent = remaining;
                charCount.classList.add('show');
            } else {
                charCount.classList.remove('show');
            }
            
            // Reset to decide mode when typing
            resetToDecideMode();
        });

        function resetToDecideMode() {
            inputBox.classList.remove('verdict-mode');
        }

        function setVerdictMode(question, answer) {
            const tweetText = `i asked @decidefyi: ${question}\n\nthe answer was ${answer}.`;
            const encodedText = encodeURIComponent(tweetText);
            xBtn.href = `https://x.com/intent/tweet?text=${encodedText}`;
            inputBox.classList.add('verdict-mode');
        }
        async function callGemini(question) {
  try {
    const response = await fetch('/api/decide', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ question }),
    });

    if (response.status === 204) return { blocked: true }; // blocked by server policy
    const data = await response.json();
    return data;
  } catch (error) {
    console.error('Decide API error:', error);
    return { error: true };
  }
}
        // Convert text to letter spans for animation
        function textToLetters(text) {
            return text.split('').map(char => 
                char === ' ' ? '<span class="ans-letter">&nbsp;</span>' : `<span class="ans-letter">${char}</span>`
            ).join('');
        }

        function show(r, question) {
            ans.className = 'ans';
            ans.innerHTML = '';
            
            setTimeout(() => {
                ans.innerHTML = textToLetters(r.v);
                ans.classList.add(r.c);
                
                // Trigger reflow for animation
                void ans.offsetWidth;
                ans.classList.add('show');
                
                // Show X verdict button ONLY for literal yes/no
const v = (r.v || '').trim().toLowerCase();
if (v === 'yes' || v === 'no') {
    lastQuestion = question;
    lastAnswer = v;
    setVerdictMode(question, v);
} else {
    resetToDecideMode(); // ensures X button never appears
}
            }, 80);
        }

        function updateShareButton() {
            const tweetText = `i asked @decidefyi: ${lastQuestion}\n\nthe answer was ${lastAnswer}.`;
            const encodedText = encodeURIComponent(tweetText);
            xBtn.href = `https://x.com/intent/tweet?text=${encodedText}`;
        }

        async function decide(text) {
            text = text.trim();
            if (text.length < 3) {
                return { c: 'unclear', v: 'Ask a question' };
            }
            return await callGemini(text);
        }

        async function handleDecide() {
            const text = q.value.trim();
            if (text.length < 3) {
                show({ c: 'unclear', v: 'Ask a question' }, text);
                return;
            }
            
            btn.disabled = true;
            ans.className = 'ans';
            ans.innerHTML = '';
            resetToDecideMode();
            
            setTimeout(() => {
                ans.innerHTML = textToLetters('Thinking...');
                ans.classList.add('loading', 'show');
            }, 80);
            
            const result = await decide(text);
            btn.disabled = false;
            
            // Only show "Try another question" for blocked questions (status 204)
            if (result && result.blocked) {
                ans.className = 'ans';
                ans.innerHTML = '';
                resetToDecideMode();
                showRetryPlaceholder();
                return;
            }
            
            // For errors or missing data, show a generic error but keep default placeholder
            if (!result || result.error || !result.v) {
                show({ c: 'unclear', v: 'Something went wrong' }, text);
                return;
            }
            
show(result, text);
        }

        function ask(t) {
            q.value = t;
            const remaining = 230 - t.length;
            if (remaining <= 20) {
                charCount.textContent = remaining;
                charCount.classList.add('show');
            } else {
                charCount.classList.remove('show');
            }
            q.focus();
        }

        btn.addEventListener('click', handleDecide);
        q.addEventListener('keydown', e => { if (e.key === 'Enter') handleDecide(); });
        
        // X button click - open link and reset to decide mode
        xBtn.addEventListener('click', () => {
            setTimeout(() => {
                resetToDecideMode();
            }, 100);
        });
        
        // Refresh button - clear and start over
        refreshBtn.addEventListener('click', () => {
            q.value = '';
            ans.className = 'ans';
            ans.innerHTML = '';
            charCount.classList.remove('show');
            resetToDecideMode();
            resetPlaceholder();
            q.focus();
        });
        
        document.querySelectorAll('a[href^="#"]').forEach(a => {
            a.addEventListener('click', function(e) {
                if (this.id === 'xBtn') return; // Don't interfere with X button
                if (this.classList.contains('nav-signin') || this.classList.contains('nav-cta')) return; // Don't interfere with Sign In
                const h = this.getAttribute('href');
                if (h === '#') return;
                e.preventDefault();
                document.querySelector(h)?.scrollIntoView({ behavior: 'smooth' });
            });
        });

        // Clerk initialization
        let clerkReady = false;
        
        // Update UI based on auth state
        function updateAuthUI() {
            const navLinks = document.querySelector('.nav-links');
            const signInLink = navLinks.querySelector('.nav-signin');
            const mobileSignIn = document.querySelector('.mobile-menu .nav-cta');
            const user = window.Clerk?.user;
            
            // Remove existing sign out button if present
            const existingSignOut = navLinks.querySelector('.sign-out-btn');
            if (existingSignOut) {
                existingSignOut.remove();
            }
            
            if (user) {
                // User is signed in - update the Sign In link to show user info
                const displayName = user.firstName || user.emailAddresses?.[0]?.emailAddress?.split('@')[0] || 'Account';
                const avatarUrl = user.imageUrl;
                
                // Replace Sign In with user dropdown/button
                if (signInLink) {
                    signInLink.innerHTML = `
                        <span style="display:flex;align-items:center;gap:0.5rem;">
                            ${avatarUrl ? `<img src="${avatarUrl}" style="width:24px;height:24px;border-radius:50%;object-fit:cover;">` : ''}
                            <span>${displayName}</span>
                        </span>
                    `;
                    signInLink.onclick = (e) => {
                        e.preventDefault();
                        openUserMenu();
                    };
                    signInLink.classList.add('signed-in');
                    
                    // Add Sign Out button after the user button
                    const signOutBtn = document.createElement('a');
                    signOutBtn.href = '#';
                    signOutBtn.className = 'sign-out-btn';
                    signOutBtn.textContent = 'Sign Out';
                    signOutBtn.onclick = (e) => {
                        e.preventDefault();
                        signOut();
                    };
                    signInLink.insertAdjacentElement('afterend', signOutBtn);
                }
                
                // Update mobile menu
                if (mobileSignIn) {
                    mobileSignIn.innerHTML = displayName;
                    mobileSignIn.onclick = (e) => {
                        e.preventDefault();
                        closeMobileMenu();
                        openUserMenu();
                    };
                }
            } else {
                // User is signed out - restore Sign In link
                if (signInLink) {
                    signInLink.innerHTML = 'Sign In';
                    signInLink.onclick = (e) => {
                        e.preventDefault();
                        openSignIn();
                    };
                    signInLink.classList.remove('signed-in');
                }
                
                // Restore mobile menu
                if (mobileSignIn) {
                    mobileSignIn.innerHTML = 'Sign In';
                    mobileSignIn.onclick = (e) => {
                        e.preventDefault();
                        closeMobileMenu();
                        openSignIn();
                    };
                }
            }
        }
        
        // Open user menu/profile
        async function openUserMenu() {
            if (!window.Clerk) return;
            
            try {
                await window.Clerk.openUserProfile();
            } catch (error) {
                console.error('Error opening user profile:', error);
            }
        }
        
        // Sign out function
        async function signOut() {
            if (!window.Clerk) return;
            
            try {
                await window.Clerk.signOut();
                updateAuthUI();
            } catch (error) {
                console.error('Error signing out:', error);
            }
        }
        
        window.addEventListener('load', async () => {
            if (window.Clerk) {
                await window.Clerk.load();
                clerkReady = true;
                
                // Update UI based on current auth state
                updateAuthUI();
                
                // Listen for auth state changes
                window.Clerk.addListener(({ user }) => {
                    updateAuthUI();
                });
            }
        });

        // Sign In function
        async function openSignIn() {
            if (!window.Clerk) return;
            
            try {
                await window.Clerk.openSignIn();
            } catch (error) {
                console.error('Error opening sign in:', error);
            }
        }
    </script>
</body>
</html>
